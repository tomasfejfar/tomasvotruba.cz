<!DOCTYPE html>
<html>
    <head>
        <title>Forget &quot;autowire&quot; and just use it | Tomáš Votruba - Nette a Symfony školení</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index, follow">

                <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700&subset=latin-ext" rel="stylesheet">

        <link href="/css/theme/webmozart/style.css" rel="stylesheet" type="text/css" />

                <link href="/css/theme/webmozart/prism.css" rel="stylesheet" type="text/css" />
        <link href="/css/style.css" rel="stylesheet" type="text/css" />
        <link href="/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="google-site-verification" content="8AQYRvJvZguoIfpFPVXwN2uxwiDJ_wj9qTbklsLvu54" />

            <meta property="og:type" content="article" />
    <meta property="og:title" content="Forget &quot;autowire&quot; and just use it" />
    <meta property="og:description" content="Autowiring is a great feature that was added in Symfony 2.8. It moves Dependency Injection pattern to the next level. If you want to use it to its full potential, you still have to add 1 extra line to every service configuration. Today I will show you, how to get rid of that line.
" />
    <meta property="og:image" content="http://www.tomasvotruba.cz/images/posts/thumbnail/symfony.png" />
    <meta property="og:url" content="http://www.tomasvotruba.cz/blog/2016/07/18/forget-autowire-just-use-it" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Forget &quot;autowire&quot; and just use it" />
    <meta name="twitter:description" content="Autowiring is a great feature that was added in Symfony 2.8. It moves Dependency Injection pattern to the next level. If you want to use it to its full potential, you still have to add 1 extra line to every service configuration. Today I will show you, how to get rid of that line.
" />
    <meta name="twitter:image" content="http://www.tomasvotruba.cz/images/posts/thumbnail/symfony.png" />

        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Tomáš Votruba - Nette a Symfony školení články" />

        <!-- Facebook Pixel Code -->
        <script>
            !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
                n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
                t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
                    document,'script','//connect.facebook.net/en_US/fbevents.js');
            fbq('init', '201338863559186');
            fbq('track', "PageView");</script>
        <noscript><img height="1" width="1" style="display:none"
                       src="https://www.facebook.com/tr?id=201338863559186&ev=PageView&noscript=1"
            /></noscript>
        <!-- End Facebook Pixel Code -->
    </head>
    <body>
        <div class="body">

            <header class="header">
                <nav class="navbar navbar-default">
                    <div class="container">
                        <div class="navbar-header">
                            <a class="navbar-toggle collapsed" data-toggle="collapse"
                               data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                                <em class="fa fa-align-justify fa-fw"></em>
                                Menu
                            </a>
                        </div>

                        <!-- Collect the nav links, forms, and other content for toggling -->
                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav">
                                <li class="logo"><a href="/">Tomáš Votruba</a></li>
                                <li >
                                    <a href="/zkus-si-mentoring">Mentoring</a>
                                </li>
                                <li >
                                    <a href="/reference">Spokojení klienti</a>
                                </li>
                                <li >
                                    <a href="/skoleni">Co vám můžu předat</a>
                                </li>
                                <li >
                                    <a href="/blog">Blog</a>
                                </li>
                                <li >
                                    <a href="/cenik">Ceník</a>
                                </li>
                                <li >
                                    <a href="/kontakt">Kontakt</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="mainContent">
                
<div class="page">
    <div class="container">
        <div class="main">
            <article class="blog-post">
            <img src="/images/posts/thumbnail/symfony.png" class="pull-left post-thumbnail hidden-xs">
    
    <header>
        <h1>
            <a href="/blog/2016/07/18/forget-autowire-just-use-it">Forget &quot;autowire&quot; and just use it</a>
        </h1>

        <ul class="list-inline list-inline-box">
    <li>
        <em class="fa fa-calendar fa-fw"></em>
                        <time datetime="2016-07-Mon">
                            18. 7
                    </time>
    </li>

            <li>
            <em class="fa fa-tags fa-fw"></em>
                            <a href="/blog/clanky-o/Symfony">Symfony</a>,                             <a href="/blog/clanky-o/DI">DI</a>,                             <a href="/blog/clanky-o/Symplify">Symplify</a>                    </li>
    
    <li>
        <em class="fa fa-clock-o fa-fw"></em>
        <strong>2 minutes of reading</strong>
    </li>

    <li>
        <em class="fa fa-fw fa-comments"></em>
        <a href="http://tomasvotruba.cz/blog/2016/07/18/forget-autowire-just-use-it/#disqus_thread">
            comments
        </a>
    </li>
    <li>
        <a href="https://github.com/TomasVotruba/tomasvotruba.cz/edit/master/source/_posts/2016-07-18-forget-autowire-just-use-it.md">
            <em class="fa fa-fw fa-github"></em>
            Send PR
        </a>
    </li>
</ul>

    </header>

    <div>
                    <p class="perex">Autowiring is a great feature that was added in Symfony 2.8. It moves Dependency Injection pattern to the next level. If you want to use it to its full potential, you still have to add 1 extra line to every service configuration. Today I will show you, how to get rid of that line.
</p>

<h2 id="when-to-autowire%3F">When to autowire?</h2>

<p>If you use autowiring daily, you might came across this thinking process before you place <code>autowired: true</code> to your config:</p>

<p><em>1) Has this service constructor dependency?</em></p>

<ul>
<li>No => skip</li>
<li>Yes => go on</li>
</ul>

<p><em>2) Is it object?</em></p>

<ul>
<li>No => skip</li>
<li>Yes => go on</li>
</ul>

<p><em>3) Is it unique service type?</em></p>

<ul>
<li>No => add <code>autowiring_types</code> for specific name to required service, <a href="https://github.com/symfony/symfony/issues/17783">which is pretty difficult at the moment</a></li>
<li>Yes => autowire</li>
</ul>

<p><em>4) Has the constructor changed during development?</em></p>

<ul>
<li><p>Start from point 1.</p></li>
<li><p>And some more for edge cases.</p></li>
</ul>

<h2 id="seems-like-function...-could-this-be-automated%3F">Seems like function... Could this be automated?</h2>

<p>You are right! <strong>It can be automated.</strong></p>

<p>This is exactly what <a href="https://github.com/Symplify/DefaultAutowire">Symplify/DefaultAutowire</a> bundle does.</p>

<p>Apart handling feature above for you, it will turn this...</p>

<pre><code class="language-yaml"># app/config/config.yml
services:
    price_calculator:
        class: PriceCalculator
        autowire: true

    product_repository:
        class: ProductRepository
        autowire: true

    user_factory:
        class: UserFactory
        autowire: true
</code></pre>

<p>...into this:</p>

<pre><code class="language-yaml"># app/config/config.yml
services:
    price_calculator:
        class: PriceCalculator

    product_repository:
        class: ProductRepository

    user_factory:
        class: UserFactory
</code></pre>

<h2 id="get-it-done-in-2-steps">Get It Done in 2 steps</h2>

<h3 id="1.-install-package">1. Install package</h3>

<pre><code class="langauge-yml">composer require symplify/default-autowire
</code></pre>

<h3 id="2.-register-bundle">2. Register bundle</h3>

<pre><code class="language-php">// app/AppKernel.php
class AppKernel extends Kernel
{
    public function registerBundles()
    {
        $bundles = [
            new Symplify\DefaultAutowire\SymplifyDefaultAutowireBundle(),
            // ...
        ];
    }
}
</code></pre>

<p>And that's it!</p>

<p>For further use, <strong>just check Readme for <a href="https://github.com/Symplify/DefaultAutowire">Symplify/DefaultAutowire</a>.</strong></p>

            </div>
</article>


            <h2>I care about your opinion</h2>

            <div id="disqus_thread"></div>
            <script type="text/javascript">
                                    var disqus_config = function () {
                        this.language = "en";
                    };
                
                /**
                 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
                 */
                (function() {  // DON'T EDIT BELOW THIS LINE
                    var d = document, s = d.createElement('script');

                    s.src = '//itsworthsharing.disqus.com/embed.js';

                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
        </div>
    </div>
</div>

            </div>

            <footer class="footer">
                <div class="container">
                    <p>
                        &copy; 2015 Tomáš Votruba. Jede na <a href="https://sculpin.io/">Sculpin</a>.<br>
                        Nádherná šablona inspirována <a href="http://webmozart.io">webmozart.io</a> - díky!
                    </p>
                </div>
            </footer>

            <script src="/js/prism.js"></script>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

            <!-- Latest compiled and minified JavaScript -->
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

                            <script type="text/javascript">
                    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                    ga('create', 'UA-46082345-1', 'auto');
                    ga('send', 'pageview');
                </script>
                    </div>

        <script id="dsq-count-scr" src="http://itsworthsharing.disqus.com/count.js" async></script>
    </body>
</html>
